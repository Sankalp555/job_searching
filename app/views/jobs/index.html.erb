<style>
* {
  box-sizing: border-box;
}

/*body {
  font-family: Arial, Helvetica, sans-serif;
}*/

/* Float four columns side by side */
.column {
  float: left;
  width: 25%;
  padding: 0 10px;
}

/* Remove extra left and right margins, due to padding */
.row {margin: 0 -5px;}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

/* Responsive columns */
@media screen and (max-width: 600px) {
  .column {
    width: 100%;
    display: block;
    margin-bottom: 20px;
  }
}

/* Style the counter cards */
.card {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  padding: 16px;
  text-align: center;
  background-color: #f1f1f1;
}
.search-form{
  background: #f1f1f1;
  padding: 40px;
  border-radius: 10px;
}
</style>
<div class="container">
  <h1 class="mt-4">Jobs</h1>
  <div class="row search-form">
    <div class="col-md-10">
      <%= form_tag jobs_path(), class: "form-inline", method: :get do %>
        <div class="form-group">
          <label for="job_title">Job Title:</label>
          <%= text_field_tag :job_title, params[:job_title].present? ? params['job_title'] : '', class: 'form-control', id: "job_title", placeholder: "Enter job title", style: "margin-right: 30px;" %>
        </div>
        <div class="form-group">
          <label for="company_name">Compaany Name:</label>
          <%= text_field_tag :company_name, params[:company_name].present? ? params['company_name'] : '', class: 'form-control', id: "company_name", placeholder: "Company name", style: "margin-right: 30px;" %>
        </div>
        <button type="submit" class="btn btn-success">Submit</button>
      <% end %>
    </div>
    <div class="col-md-2">
      <%= link_to 'Clear', jobs_path(), class: 'btn btn-primary', id: 'clear' %>
    </div>
  </div>
  <hr>
  <div class="row">
    <% @job_data["job_data"].each do |job_data| %>
      <div class="column">
        <div class="card">
          <h4 title="<%=job_data["job_title"] %>" style="cursor: pointer;"><%=h truncate(job_data["job_title"], :length => 10) %></h4>
          <p><b>Description: </b><%=h truncate(job_data["job_description"], :length => 80) %></p>
          <p><b>Location: </b><%= job_data["country"]%>, <%= job_data["inferred_state"]%>, <%= job_data["city"]%></p>
          <p><b>Company: </b> <%= job_data["company_name"]%></p>
          <p><b>Posted on: </b> <%= job_data["post_date"]%></p>
        </div>
      </div>
    <% end %>
  </div>
</div>
<script type="text/javascript">
  $('#clear').on('click', function(){
    $('#job_title').val();
    $('#company_name').val();
  });
</script>
